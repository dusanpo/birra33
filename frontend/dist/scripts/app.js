const baseUrl="https://api.punkapi.com/v2/beers",cardWrapper=document.querySelector(".card-wrapper"),inpSearch=document.getElementById("inp-search"),filterFood=document.getElementById("filter-food");let foodPairing="",minSlider=document.getElementById("min"),maxSlider=document.getElementById("max"),outputMin=document.getElementById("min-value"),outputMax=document.getElementById("max-value");async function fetchApi(e){let n;n=e?await fetch(`https://api.punkapi.com/v2/beers?beer_name=${e}`):await fetch(baseUrl+foodPairing);let a=await n.json();console.log(a),cardWrapper.innerHTML="";let t="";a.map((e=>{t+=`\n    <div class="col-md-4">\n    <div class="card text-center border-0 cards">\n      <div class="card-body card-main" >\n        <img class="img" src=${e.image_url} alt="image"/>\n        <p>$${e.abv}</p>\n        <div class="logo">\n          <i class="fa-solid fa-link fa-3x" id="${e.id}"></i>\n        </div>\n      </div>\n      <div class="card-footer card-bottom">\n        <h5>\n          <button class="w-100">Add to Card</button>\n        </h5>\n      </div>\n    </div>\n  </div>\n  <div class="modal-style" id="modal-${e.id}">\n    <div class="modal-content">\n      <div class="header-modal">\n        <span class="close-modal" id="close-${e.id}">&times;</span>\n        <div class="d-flex justify-content-between header-content">\n          <h3 class="header-title">Ab: ${e.ph}</h3>\n          <p class="header-name">${e.name}</p>\n        </div>\n      </div>\n      <hr />\n      <div class="body-modal">\n        <p>\n          With us since: <span class="date-text">${e.first_brewed}</span>\n        </p>\n        <p class="description-text">${e.description}</p>\n        <p>It goes great width:</p>\n        <p class="food-pairing-text">${e.food_pairing.join(", ")}</p>\n      </div>\n      <hr />\n      <div class="footer-modal">\n        <div class="row">\n          <div class="col-lg-3">\n            <p>\n              Abv:<br />\n              <span class="result-text">${e.abv}</span>\n            </p>\n          </div>\n          <div class="col-lg-9">\n            <p>\n              And Our tip:\n              <span class="tips-text">${e.brewers_tips}</span>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n    `,cardWrapper.classList.remove("not-found")})),0===a.length&&(t="Sorry, we don't have such a beer name!",cardWrapper.classList.add("not-found")),cardWrapper.innerHTML=t}async function feetchBeer(e){let n;n=await fetch(`https://api.punkapi.com/v2/beers/${e}`);let a=await n.json();console.log(a)}outputMin.innerHTML=minSlider.value,outputMax.innerHTML=maxSlider.value,minSlider.oninput=function(){outputMin.innerHTML=this.value},maxSlider.oninput=function(){outputMax.innerHTML=this.value},cardWrapper.addEventListener("click",(e=>{const n=e.target.getAttribute("id");let a=document.getElementById(`modal-${n}`);a.style.display="block",document.getElementById(`close-${n}`).addEventListener("click",(function(){a.style.display="none"})),feetchBeer(n)})),inpSearch.addEventListener("change",(()=>{fetchApi(inpSearch.value.trim()),inpSearch.value=""})),filterFood.addEventListener("change",(e=>{switch(e.target.value){case"all":foodPairing="";break;case"chicken":foodPairing="?food=chicken";break;case"cake":foodPairing="?food=cake";break;case"cheese":foodPairing="?food=cheese";break;case"salad":foodPairing="?food=salad"}fetchApi()})),fetchApi();